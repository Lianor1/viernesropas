<ion-menu side="start" contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-title>Menú</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content>
    <ion-list>
      <ion-item routerLink="/home">
        <ion-icon slot="start" name="home-outline"></ion-icon>
        <ion-label>Inicio</ion-label>
      </ion-item>
      <ion-item (click)="logout()">
        <ion-icon slot="start" name="log-out-outline" color="danger"></ion-icon>
        <ion-label color="danger">Cerrar Sesión</ion-label>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-menu>

<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/home"></ion-back-button>
      </ion-buttons>
      <ion-title>Mis Compras</ion-title>
    </ion-toolbar>
  </ion-header>

  <ion-content>
    <ion-list>
      <ion-item-group *ngFor="let voucher of vouchers">
        <ion-item-divider sticky>
          <ion-label>
            <h2>Voucher #{{ voucher.numero_voucher }}</h2>
            <p>{{ voucher.fecha | date:'dd/MM/yyyy HH:mm' }}</p>
          </ion-label>
          <ion-note slot="end" color="primary">
            S/ {{ voucher.total }}
          </ion-note>
        </ion-item-divider>

        <ion-item *ngFor="let item of voucher.voucher_items">
          <ion-label>
            <h3>{{ item.producto_nombre }}</h3>
            <p>Color: {{ item.color }} | Talla: {{ item.talla }}</p>
            <p>Cantidad: {{ item.cantidad }} x S/ {{ item.precio_unitario }}</p>
          </ion-label>
          <ion-note slot="end" color="medium">
            S/ {{ item.precio_total }}
          </ion-note>
        </ion-item>
      </ion-item-group>
    </ion-list>

    <!-- Mensaje cuando no hay compras -->
    <div class="empty-state" *ngIf="!vouchers?.length">
      <ion-icon name="cart-outline" size="large"></ion-icon>
      <h2>No tienes compras realizadas</h2>
      <p>Tus compras aparecerán aquí</p>
    </div>
  </ion-content>
</div>